<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />

        <title>Reset Password</title>
    </head>
    <body class="bg-success">
        <div class="container justify-content-center align-items-center">
            <div class="row justify-content-center">
                <div class="col-lg-6 p-4">
                    <div class="card">
                        <img
                            src="https://tinyurl.com/fnpemailheader"
                            alt="email header logo"
                        />

                        <form
                            action=""
                            method="post"
                            class="form p-3"
                            id="form"
                        >
                            <label for="inputPassword5" class="form-label"
                                >Create new password</label
                            >
                            <input
                                type="text"
                                id="inputPassword1"
                                class="form-control mb-2"
                                aria-describedby="passwordHelpBlock"
                                pattern="(?=.*\d).{6,}"
                            />

                            <div id="passwordHelpBlock" class="form-text mb-3">
                                Your password must contain a number and must be more than 6 characters long
                            </div>

                            <label
                                for="inputPassword5"
                                class="form-label fw-bold"
                                >Confirm new password</label
                            >

                            <!-- Using pattern to follow a password format
                                (?=.*\d) means that a number is req,
                                .{6,} means that the password must be 6 characters long

                                Can also add (?=.*[a-z]) if we require a lowercase letter in our password 
                                and add (?=.*[A-Z]) if we require an uppercase letter in our password
                            -->

                            <input
                                type="password"
                                id="inputPassword2"
                                class="form-control mb-3"
                                aria-describedby="passwordHelpBlock"
                                name="password"
                                pattern="(?=.*\d).{6,}"
                            />
                            <button
                                id="btn"
                                type="submit"
                                class="btn btn-outline-primary"
                            >
                                Confirm
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>

        <script>
            const form = document.querySelector('#form');
            const btn = document.querySelector('#btn');
            const input1 = document.querySelector('#inputPassword1');

            console.log(input1);

            btn.addEventListener('click', () => {
                console.log(input1.value);
            });

            // Password validation

            // Creating two variables for password and confirmPassword and getting their values from the user input
            var password = document.getElementById("inputPassword1")
                    , confirm_password = document.getElementById("inputPassword2");

            // Function to validate the password
            function validatePassword() {
                // If the passwords do not match then it would display a message to the user, otherwise it would change the password
                if(password.value != confirm_password.value) {
                    confirm_password.setCustomValidity("Passwords do not match");
                } else {
                    confirm_password.setCustomValidity('');
                }
            }

            // Calling the function
            password.onchange = validatePassword;
            confirm_password.onkeyup = validatePassword;
        </script>
    </body>
</html>